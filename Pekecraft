<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi-craft (Todo en Uno)</title>
    
    <style>
        body {
            /* Eliminar márgenes para que el lienzo llene todo */
            margin: 0;
            /* Evitar barras de scroll */
            overflow: hidden; 
        }
    </style>
</head>
<body>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js"
            }
        }
    </script>

    <script type="module">
        // Importar la librería THREE
        import * as THREE from 'three';

        // --- El 90% de Three.js necesita estos 3 elementos ---

        // 1. La Escena: Es el "mundo" donde viven todos tus objetos.
        const scene = new THREE.Scene();

        // 2. La Cámara: Es el "ojo" con el que vemos la escena.
        // (Campo de visión, Relación de aspecto, Cerca, Lejos)
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

        // 3. El Renderizador: Es el "dibujante" que toma la escena y la cámara,
        // y lo dibuja en el lienzo (el fichero HTML).
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight); // Tamaño del dibujo
        document.body.appendChild(renderer.domElement); // Añadir el lienzo al HTML

        // --- ¡Vamos a crear nuestro cubo! ---

        // 1. La Geometría: La forma del objeto.
        const geometry = new THREE.BoxGeometry(1, 1, 1); // Un cubo de 1x1x1

        // 2. El Material: La "piel" del objeto (de qué color es)
        // Usaremos un color verde básico, como un bloque de césped.
        const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 }); 

        // 3. El Mesh (Malla): La combinación de la Geometría y el Material.
        // Este es el objeto 3D final.
        const cube = new THREE.Mesh(geometry, material);

        // ¡Añadimos nuestro cubo al "mundo" (la escena)!
        scene.add(cube);

        // Por defecto, la cámara y el cubo están en (0,0,0).
        // Movemos la cámara un poco hacia atrás (en el eje Z) para que podamos ver el cubo.
        camera.position.z = 5;

        // --- ¡El Bucle de Animación! ---
        // Esto es un bucle que se ejecuta en cada "frame" (unas 60 veces por segundo).
        // Es lo que permite el movimiento y la animación.

        function animate() {
            requestAnimationFrame(animate); // Pedir al navegador que ejecute esta función de nuevo

            // Hacer girar nuestro cubo en cada frame
            cube.rotation.x += 0.01;
            cube.rotation.y += 0.01;

            // ¡Renderizar la escena!
            // El dibujante toma la escena y la vista de la cámara y la dibuja.
            renderer.render(scene, camera);
        }

        // ¡Empezar la animación!
        animate();
    </script>
</body>
</html>
