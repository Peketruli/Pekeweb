<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trailer PekeOS 1.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #050505;
            --mc-sky: #7EC0EE; /* Color exacto cielo MC */
        }

        body {
            margin: 0;
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: 'Press Start 2P', cursive;
            overflow: hidden;
            color: #fff;
            user-select: none;
        }

        #screen {
            width: 900px;
            height: 500px;
            background-color: var(--bg-color);
            position: relative;
            border: 4px solid #333;
            box-shadow: 0 0 60px rgba(0,255,0,0.4);
            overflow: hidden;
        }

        /* --- SISTEMA GENERAL --- */
        .scene {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.5s; pointer-events: none;
            background: var(--bg-color); z-index: 1;
        }
        .scene.active { opacity: 1; z-index: 10; }

        h1 { font-size: 32px; text-align: center; color: #0f0; text-shadow: 4px 4px #000; letter-spacing: 2px; z-index: 20; }
        h2 { font-size: 20px; color: #0ff; margin-bottom: 20px; text-align: center; }
        p { font-size: 14px; color: #ccc; margin-top: 10px; text-align: center; line-height: 1.8; max-width: 80%; }

        /* --- ESCENA 1: LOGO --- */
        #user-logo { width: 150px; height: 150px; object-fit: contain; margin-bottom: 20px; animation: pulseLogo 2s infinite; }
        @keyframes pulseLogo { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .spinner-container { width: 60px; height: 60px; margin-top: 20px; }
        .arrow-circle { width: 100%; height: 100%; border: 6px solid transparent; border-top-color: #0f0; border-bottom-color: #0f0; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* --- ESCENA 3: CSGO TÁCTICO --- */
        .csgo-map {
            width: 700px; height: 400px; background: #2a2a2a; position: relative; border: 4px solid #555; overflow: hidden;
            background-image: linear-gradient(#333 2px, transparent 2px), linear-gradient(90deg, #333 2px, transparent 2px);
            background-size: 50px 50px;
        }
        .obstacle { background: #5d4037; position: absolute; border: 2px solid #3e2723; }
        .wall-long { width: 10px; height: 200px; top: 100px; left: 350px; background: #7f8c8d; border-color: #95a5a6; } 
        .player { width: 24px; height: 24px; border-radius: 50%; position: absolute; border: 2px solid #fff; z-index: 5; transition: transform 0.2s; }
        .player::after { content: ''; position: absolute; width: 4px; height: 15px; background: rgba(255,255,255,0.5); top: -10px; left: 8px; }
        .ct { background: #4b69ff; top: 180px; left: 50px; transform: rotate(90deg); } 
        .t { background: #ff4b4b; top: 180px; right: 50px; transform: rotate(-90deg); } 
        .flash-grenade { width: 8px; height: 8px; background: #fff; border-radius: 50%; position: absolute; top: 190px; left: 80px; opacity: 0; z-index: 6; }
        .shot-line { position: absolute; height: 2px; background: yellow; transform-origin: left center; opacity: 0; z-index: 4; }
        .flashbang-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #fff; opacity: 0; pointer-events: none; z-index: 50; }
        
        .anim-throw { animation: throwArc 1s linear forwards; }
        @keyframes throwArc { 0% { top: 190px; left: 80px; opacity: 1; } 50% { top: 50px; left: 350px; } 100% { top: 180px; left: 600px; opacity: 1; } }
        .anim-flash { animation: flashExplosion 1.5s ease-out forwards; }
        @keyframes flashExplosion { 0% { opacity: 1; } 100% { opacity: 0; } }
        .ct.flanking { top: 50px; left: 600px; transform: rotate(180deg); transition: none; } 
        .anim-shoot { animation: shootBeam 0.2s linear; }
        @keyframes shootBeam { 0% { opacity: 1; width: 0; } 50% { width: 100px; } 100% { opacity: 0; width: 100px; } }
        .t.dead { background: #550000; transform: scale(0.8); border-color: #330000; transition: all 0.5s; }


        /* --- ESCENA 4: MINECRAFT NEXT-GEN (CSS PURO) --- */
        .mc-container {
            width: 100%; height: 100%; position: relative; overflow: hidden;
            background: var(--mc-sky); perspective: 800px;
        }

        /* Ambiente */
        .sun { width: 60px; height: 60px; background: #FFF; position: absolute; top: 20px; right: 50px; box-shadow: 0 0 40px #FFD700; z-index: 0; }
        .cloud { width: 120px; height: 40px; background: rgba(255,255,255,0.9); position: absolute; top: 80px; animation: drift 30s linear infinite; }
        @keyframes drift { from { left: -150px; } to { left: 100%; } }

        /* Contenedor 3D Principal */
        .mc-world-pivot {
            width: 100%; height: 100%; position: absolute;
            transform-style: preserve-3d;
            display: flex; justify-content: center; align-items: center;
        }

        .world-group {
            position: relative; width: 0; height: 0;
            transform-style: preserve-3d;
            /* Vista Isométrica perfecta */
            transform: rotateX(-30deg) rotateY(45deg) translateY(50px);
        }

        /* --- GENERADOR DE TEXTURAS CSS (PIXEL ART) --- */
        /* Tierra/Grass */
        .tex-grass-top {
            background-color: #5C9E42;
            background-image: repeating-linear-gradient(45deg, rgba(0,0,0,0.05) 25%, transparent 25%, transparent 75%, rgba(0,0,0,0.05) 75%, rgba(0,0,0,0.05)), 
            repeating-linear-gradient(45deg, rgba(0,0,0,0.05) 25%, transparent 25%, transparent 75%, rgba(0,0,0,0.05) 75%, rgba(0,0,0,0.05));
            background-size: 10px 10px;
        }
        .tex-dirt-side {
            background-color: #6B5145;
            background-image: radial-gradient(rgba(0,0,0,0.1) 15%, transparent 16%);
            background-size: 10px 10px;
        }
        /* Madera Tronco */
        .tex-log-side {
            background-color: #5D4037;
            background-image: linear-gradient(90deg, rgba(0,0,0,0.2) 10%, transparent 10%, transparent 20%, rgba(0,0,0,0.2) 20%, rgba(0,0,0,0.2) 30%, transparent 30%);
            background-size: 20px 100%;
        }
        .tex-log-top {
            background-color: #795548;
            background-image: radial-gradient(circle, #5D4037 40%, transparent 40%);
            background-size: 100% 100%;
        }
        /* Hojas */
        .tex-leaves {
            background-color: rgba(46, 125, 50, 0.9);
            background-image: linear-gradient(45deg, rgba(0,0,0,0.2) 25%, transparent 25%), linear-gradient(-45deg, rgba(0,0,0,0.2) 25%, transparent 25%);
            background-size: 20px 20px;
        }

        /* Geometría del Cubo */
        .cube { width: 80px; height: 80px; position: absolute; transform-style: preserve-3d; }
        .face { position: absolute; width: 80px; height: 80px; box-sizing: border-box; box-shadow: inset 0 0 15px rgba(0,0,0,0.15); /* Sombras internas */ }
        
        .f-front  { transform: translateZ(40px); }
        .f-back   { transform: rotateY(180deg) translateZ(40px); }
        .f-right  { transform: rotateY(90deg) translateZ(40px); }
        .f-left   { transform: rotateY(-90deg) translateZ(40px); }
        .f-top    { transform: rotateX(90deg) translateZ(40px); }
        .f-bottom { transform: rotateX(-90deg) translateZ(40px); background: #3E2723;}

        /* --- CONSTRUCCIÓN DEL MUNDO --- */
        /* Suelo (3x3) */
        .g1 { transform: translate3d(-80px, 80px, 80px); }
        .g2 { transform: translate3d(0, 80px, 80px); }
        .g3 { transform: translate3d(80px, 80px, 80px); }
        .g4 { transform: translate3d(-80px, 80px, 0); }
        .g5 { transform: translate3d(0, 80px, 0); } /* Centro (Base Arbol) */
        .g6 { transform: translate3d(80px, 80px, 0); }
        .g7 { transform: translate3d(-80px, 80px, -80px); }
        .g8 { transform: translate3d(0, 80px, -80px); }
        .g9 { transform: translate3d(80px, 80px, -80px); }

        /* Arbol */
        .log-bottom { transform: translate3d(0, 0, 0); } /* El que picamos */
        .log-top    { transform: translate3d(0, -80px, 0); }
        
        .leaf-1 { transform: translate3d(0, -160px, 0); } /* Copa */
        .leaf-2 { transform: translate3d(80px, -80px, 0); }
        .leaf-3 { transform: translate3d(-80px, -80px, 0); }
        .leaf-4 { transform: translate3d(0, -80px, 80px); }
        .leaf-5 { transform: translate3d(0, -80px, -80px); }

        /* Efecto de Rotura */
        .crack-overlay {
            position: absolute; width: 100%; height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80"><path d="M10 10 L40 40 M70 10 L40 40 M10 70 L40 40 M70 70 L40 40" stroke="black" stroke-width="4" fill="none"/></svg>');
            background-size: cover; opacity: 0; pointer-events: none;
        }

        /* Animaciones Minecraft */
        .scene.active .steve-arm { animation: mineAction 0.25s infinite alternate ease-in; }
        .scene.active .crack-overlay { animation: cracking 3s steps(4) forwards; } /* Grietas progresivas */
        .scene.active .log-bottom { animation: breakLog 0.1s 3s forwards; } /* Explota a los 3s */
        .scene.active .drop-item { animation: dropFloat 0.5s 3.1s forwards, spinDrop 3s infinite linear; }

        @keyframes mineAction { 
            0% { transform: rotate(30deg) rotateX(20deg); } 
            100% { transform: rotate(-20deg) rotateX(60deg) translateX(-40px); } 
        }
        @keyframes cracking {
            0% { opacity: 0; } 25% { opacity: 0.3; } 50% { opacity: 0.5; } 75% { opacity: 0.7; } 100% { opacity: 0.9; }
        }
        @keyframes breakLog { to { transform: scale(0); opacity: 0; } }
        @keyframes dropFloat { from { opacity: 0; transform: translate3d(0,0,0) scale(0); } to { opacity: 1; transform: translate3d(0,-20px,0) scale(0.4); } }
        @keyframes spinDrop { 0% { transform: translate3d(0,-20px,0) scale(0.4) rotateY(0deg); } 100% { transform: translate3d(0,-20px,0) scale(0.4) rotateY(360deg); } }

        /* Partículas de explosión */
        .particle {
            position: absolute; width: 10px; height: 10px; background: #5D4037;
            top: 35px; left: 35px; opacity: 0; transform-style: preserve-3d;
        }
        @keyframes explodeP {
            0% { transform: translate3d(0,0,0) scale(1); opacity: 1; }
            100% { transform: translate3d(var(--x), var(--y), var(--z)) scale(0) rotate(360deg); opacity: 0; }
        }

        /* Mano Steve Mejorada */
        .steve-arm {
            width: 50px; height: 160px; position: absolute; right: 200px; bottom: -50px;
            transform-style: preserve-3d; transform-origin: bottom right;
            transform: rotate(30deg); z-index: 100;
        }
        .arm-face { position: absolute; border: 2px solid rgba(0,0,0,0.2); }
        .af-main { width: 50px; height: 160px; background: linear-gradient(to bottom, #00ced1 30%, #e0b06b 30%); transform: translateZ(25px); }
        .af-side { width: 50px; height: 160px; background: linear-gradient(to bottom, #00ced1 30%, #e0b06b 30%); transform: rotateY(90deg) translateZ(25px); }
        .af-top  { width: 50px; height: 50px; background: #00ced1; transform: rotateX(90deg) translateZ(25px); }
        .af-bottom { width: 50px; height: 50px; background: #e0b06b; transform: rotateX(-90deg) translateZ(135px); }

        /* HUD */
        .mc-hud { position: absolute; bottom: 20px; width: 100%; display: flex; justify-content: center; gap: 150px; z-index: 200; }
        .pixel-heart, .pixel-food { width: 24px; height: 24px; background: red; box-shadow: 3px 3px #000; border: 2px solid #600; display: inline-block; margin: 0 2px;}
        .pixel-food { background: #d35400; border-color: #7e3800; border-radius: 50%; }

        /* Drop Item (Tronquito) */
        .drop-item {
            width: 80px; height: 80px; position: absolute; top:0; left:0;
            transform-style: preserve-3d; opacity: 0; /* Aparece al romperse */
        }


        /* --- OTROS --- */
        .glitch-text { font-size: 30px; color: red; animation: glitch 0.3s infinite; }
        @keyframes glitch { 0% { transform: translate(0); } 20% { transform: translate(-3px, 3px); } 40% { transform: translate(-3px, -3px); } 80% { transform: translate(3px, -3px); } }
        .ballot-box { width: 80px; height: 100px; background: #ddd; border: 4px solid #fff; position: relative; display: flex; justify-content: center; margin: 20px auto; }
        .slot { width: 50px; height: 8px; background: #222; margin-top: 10px; }
        .status-badge { padding: 10px; border: 2px solid; margin-top: 20px; display: inline-block; font-size: 16px; }
        .bug { color: red; border-color: red; }
        .fixed { color: #0f0; border-color: #0f0; }

        #start-overlay { background: rgba(0,0,0,0.98); z-index: 999; cursor: pointer; pointer-events: all; }
        .blink { animation: blinker 0.5s step-end infinite alternate; color: #0f0; }
        @keyframes blinker { 50% { opacity: 0; } }

    </style>
</head>
<body>

    <div id="screen">
        
        <div id="start-overlay" class="scene active" onclick="startSequence()">
            <h1 class="blink">> INICIAR PEKEOS 1.0 <</h1>
        </div>

        <div id="scene-1" class="scene">
            <img id="user-logo" src="PekeOS.png"alt="Logo">
            <h1>PekeOS 1.0</h1>
            <div class="spinner-container"><div class="arrow-circle"></div></div>
        </div>

        <div id="scene-2" class="scene">
            <h2>NUEVA ACTUALIZACIÓN</h2>
            <h1 style="font-size: 40px; color: #fff;">ZONA ARCADE</h1>
            <p>2 nuevos titulos ya conocidos</p>
        </div>

        <div id="scene-3" class="scene">
            <h2 style="position: absolute; top: 10px; background: rgba(0,0,0,0.8); z-index: 20;">CSGO 2D</h2>
            <div class="csgo-map">
                <div class="flashbang-overlay" id="fb-overlay"></div>
                <div class="wall-long obstacle"></div>
                <div class="obstacle" style="top: 50px; left: 550px; width: 50px; height: 50px;"></div>
                <div id="ct-player" class="player ct"></div> 
                <div id="t-player" class="player t"></div>   
                <div id="grenade" class="flash-grenade"></div>
                <div id="shot" class="shot-line" style="top: 60px; left: 600px; width: 100px; transform: rotate(180deg);"></div>
            </div>
        </div>

        <div id="scene-4" class="scene">
            <h1 style="position:absolute; top:20px; width:100%; z-index:20; text-shadow: 2px 2px #000; color: #fff;">MINECRAFT 1.5</h1>
            
            <div class="mc-container">
                <div class="sun"></div>
                <div class="cloud"></div>

                <div class="mc-world-pivot">
                    <div class="world-group" id="mc-world">
                        
                        <div class="cube g1"><div class="face f-top tex-grass-top"></div><div class="face f-front tex-dirt-side"></div><div class="face f-right tex-dirt-side"></div></div>
                        <div class="cube g2"><div class="face f-top tex-grass-top"></div><div class="face f-front tex-dirt-side"></div></div>
                        <div class="cube g3"><div class="face f-top tex-grass-top"></div><div class="face f-front tex-dirt-side"></div><div class="face f-right tex-dirt-side"></div></div>
                        <div class="cube g4"><div class="face f-top tex-grass-top"></div><div class="face f-left tex-dirt-side"></div></div>
                        <div class="cube g5"><div class="face f-top tex-grass-top"></div></div> <div class="cube g6"><div class="face f-top tex-grass-top"></div><div class="face f-right tex-dirt-side"></div></div>
                        <div class="cube g7"><div class="face f-top tex-grass-top"></div><div class="face f-left tex-dirt-side"></div></div>
                        <div class="cube g8"><div class="face f-top tex-grass-top"></div></div>
                        <div class="cube g9"><div class="face f-top tex-grass-top"></div><div class="face f-right tex-dirt-side"></div></div>

                        <div class="cube log-bottom" id="target-block">
                            <div class="face f-front tex-log-side"><div class="crack-overlay"></div></div>
                            <div class="face f-right tex-log-side"><div class="crack-overlay"></div></div>
                            <div class="face f-back tex-log-side"></div>
                            <div class="face f-left tex-log-side"><div class="crack-overlay"></div></div>
                            <div class="face f-top tex-log-top"></div>
                            <div class="face f-bottom tex-log-top"></div>
                        </div>

                        <div class="cube log-top">
                            <div class="face f-front tex-log-side"></div><div class="face f-right tex-log-side"></div>
                            <div class="face f-left tex-log-side"></div><div class="face f-back tex-log-side"></div>
                            <div class="face f-top tex-log-top"></div><div class="face f-bottom tex-log-top"></div>
                        </div>

                        <div class="cube leaf-1"><div class="face f-front tex-leaves"></div><div class="face f-right tex-leaves"></div><div class="face f-left tex-leaves"></div><div class="face f-back tex-leaves"></div><div class="face f-top tex-leaves"></div><div class="face f-bottom tex-leaves"></div></div>
                        <div class="cube leaf-2"><div class="face f-front tex-leaves"></div><div class="face f-right tex-leaves"></div><div class="face f-left tex-leaves"></div><div class="face f-back tex-leaves"></div><div class="face f-top tex-leaves"></div><div class="face f-bottom tex-leaves"></div></div>
                        <div class="cube leaf-3"><div class="face f-front tex-leaves"></div><div class="face f-right tex-leaves"></div><div class="face f-left tex-leaves"></div><div class="face f-back tex-leaves"></div><div class="face f-top tex-leaves"></div><div class="face f-bottom tex-leaves"></div></div>
                        <div class="cube leaf-4"><div class="face f-front tex-leaves"></div><div class="face f-right tex-leaves"></div><div class="face f-left tex-leaves"></div><div class="face f-back tex-leaves"></div><div class="face f-top tex-leaves"></div><div class="face f-bottom tex-leaves"></div></div>
                        <div class="cube leaf-5"><div class="face f-front tex-leaves"></div><div class="face f-right tex-leaves"></div><div class="face f-left tex-leaves"></div><div class="face f-back tex-leaves"></div><div class="face f-top tex-leaves"></div><div class="face f-bottom tex-leaves"></div></div>
                        
                        <div class="drop-item">
                            <div class="cube" style="transform: scale(0.3);">
                                <div class="face f-front tex-log-side"></div><div class="face f-right tex-log-side"></div>
                                <div class="face f-top tex-log-top"></div><div class="face f-bottom tex-log-top"></div>
                            </div>
                        </div>

                    </div>
                    
                    <div class="steve-arm">
                        <div class="arm-face af-main"></div><div class="arm-face af-side"></div><div class="arm-face af-top"></div><div class="arm-face af-bottom"></div>
                    </div>
                </div>

                <div class="mc-hud">
                    <div><div class="pixel-heart"></div><div class="pixel-heart"></div><div class="pixel-heart"></div><div class="pixel-heart"></div><div class="pixel-heart"></div></div>
                    <div><div class="pixel-food"></div><div class="pixel-food"></div><div class="pixel-food"></div><div class="pixel-food"></div><div class="pixel-food"></div></div>
                </div>
            </div>
        </div>

        <div id="scene-5" class="scene">
            <h1 class="glitch-text">¡ATENCIÓN!</h1>
            <br>
            <p style="color: #fff; font-size: 16px;">"Los partidos no están eliminados, está bug."</p>
            <p>Aprovechamos esta oportunidad para actualizar también la zona de partidos.</p>
        </div>

        <div id="scene-6" class="scene">
            <h2>MÓDULO DE PARTIDOS</h2>
            <div class="ballot-box"><div class="slot"></div></div>
            <div id="status-badge" class="status-badge bug">ERROR DE CÓDIGO</div>
        </div>

        <div id="scene-7" class="scene">
            <p style="color: #0f0;">✔ TODO LISTO</p>
            <h2>REINICIANDO SISTEMA...</h2>
        </div>

        <div id="scene-8" class="scene" style="background: black;"></div>

        <div id="scene-9" class="scene">
            <img src="PekeOS.png" style="width: 100px; margin-bottom: 20px;">
            <h2>PekeOS</h2>
            <p>Gracias por confiar en nuestro equipo.</p>
        </div>

    </div>

    <script>
        function spawnParticles() {
            const world = document.getElementById('mc-world');
            // Crear 27 partículas para simular la explosión del bloque
            for(let i=0; i<27; i++) {
                let p = document.createElement('div');
                p.classList.add('particle');
                
                // Direcciones aleatorias
                let x = (Math.random() - 0.5) * 200 + 'px';
                let y = (Math.random() - 0.5) * 200 + 'px';
                let z = (Math.random() - 0.5) * 200 + 'px';
                
                p.style.setProperty('--x', x);
                p.style.setProperty('--y', y);
                p.style.setProperty('--z', z);
                
                p.style.animation = 'explodeP 0.8s forwards ease-out';
                world.appendChild(p);
                
                // Limpiar DOM
                setTimeout(() => p.remove(), 1000);
            }
        }

        function startSequence() {
            document.getElementById('start-overlay').style.display = 'none';

            const timeline = [
                { id: 'scene-1', duration: 4000 }, 
                { id: 'scene-2', duration: 3000 }, 
                { id: 'scene-3', duration: 6000 }, 
                { id: 'scene-4', duration: 6000 }, // Minecraft dura 6s
                { id: 'scene-5', duration: 5000 }, 
                { id: 'scene-6', duration: 4000 }, 
                { id: 'scene-7', duration: 3000 }, 
                { id: 'scene-8', duration: 2000 }, 
                { id: 'scene-9', duration: 0 }     
            ];

            let step = 0;

            function playStep() {
                if (step >= timeline.length) return;
                
                document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));

                const current = timeline[step];
                const element = document.getElementById(current.id);
                
                if (element) {
                    element.classList.add('active');

                    // CSGO LOGIC
                    if (current.id === 'scene-3') {
                        const grenade = document.getElementById('grenade');
                        const overlay = document.getElementById('fb-overlay');
                        const ct = document.getElementById('ct-player');
                        const t = document.getElementById('t-player');
                        const shot = document.getElementById('shot');

                        grenade.classList.add('anim-throw');
                        setTimeout(() => {
                            overlay.classList.add('anim-flash');
                            setTimeout(() => { ct.classList.add('flanking'); }, 100);
                        }, 1000);
                        setTimeout(() => {
                            shot.classList.add('anim-shoot');
                            setTimeout(() => { t.classList.add('dead'); }, 200);
                        }, 3000);
                    }

                    // MINECRAFT LOGIC
                    if (current.id === 'scene-4') {
                        // Esperar 3 segundos (mientras se agrieta) y luego explotar
                        setTimeout(spawnParticles, 3000);
                    }

                    // BUG FIX LOGIC
                    if (current.id === 'scene-6') {
                        const badge = document.getElementById('status-badge');
                        badge.className = 'status-badge bug';
                        badge.innerText = 'REPARANDO BUG...';
                        setTimeout(() => {
                            badge.className = 'status-badge fixed';
                            badge.innerText = '✔ PARTIDOS: ONLINE';
                        }, 2000);
                    }

                    if (current.duration > 0) {
                        setTimeout(() => {
                            step++;
                            playStep();
                        }, current.duration);
                    }
                }
            }
            playStep();
        }
    </script>
</body>
</html>
