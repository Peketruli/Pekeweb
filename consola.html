<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Consola de Actividad</title>
<style>
  body {
    background-color: #000;
    color: #0f0;
    font-family: "Courier New", monospace;
    padding: 20px;
    white-space: pre-wrap;
    overflow-y: scroll;
  }
  h1 {
    color: #0f0;
    text-shadow: 0 0 10px #0f0;
  }
  .error {
    color: red;
    text-align: center;
    font-size: 24px;
    margin-top: 100px;
  }
</style>
</head>
<body>
<h1>Consola de Actividad</h1>
<div id="output"></div>

<script>
// --- CONFIGURACI√ìN ---
// Guardar el nombre manualmente para probar (solo una vez)
// localStorage.setItem("usuario", "Peketruli");

const usuario = localStorage.getItem("usuario");
const output = document.getElementById("output");

// Si no es Peketruli, mostrar el mensaje de error
if (usuario !== "Peketruli") {
  document.body.innerHTML = "<h1 class='error'>Casi pero no, vuelve cuando seas admin üòé</h1>";
} else {
  iniciarConsola();
}

// --- FUNCIONES ---
function iniciarConsola() {
  log("üü¢ Bienvenido, Peketruli. Monitorizando actividad...\n");

  // Clicks
  document.addEventListener("click", e => {
    const info = `Click en: <${e.target.tagName.toLowerCase()}>` +
                 (e.target.id ? `#${e.target.id}` : '') +
                 (e.target.className ? `.${e.target.className}` : '');
    log(info);
  });

  // Teclas
  document.addEventListener("keydown", e => {
    log(`Tecla presionada: ${e.key}`);
  });

  // Scroll
  window.addEventListener("scroll", () => {
    log("Scroll detectado");
  });

  // Movimiento del rat√≥n
  document.addEventListener("mousemove", e => {
    log(`Rat√≥n en posici√≥n X:${e.clientX} Y:${e.clientY}`);
  });

  // Cambio de pesta√±a / visibilidad
  document.addEventListener("visibilitychange", () => {
    if (document.hidden) {
      log("Pesta√±a inactiva ‚ùå");
    } else {
      log("Pesta√±a activa ‚úÖ");
    }
  });
}

function log(msg) {
  const time = new Date().toLocaleTimeString();
  output.innerHTML += `[${time}] ${msg}\n`;
  output.scrollTop = output.scrollHeight;
}
</script>
</body>
</html>
