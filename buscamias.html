<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Buscaminas</title>
<style>
  :root{
    --bg:#0f1720;
    --panel:#0b1220;
    --tile:#dbeafe;
    --tile-up:#f8fafc;
    --flag:#ef4444;
    --mine:#111827;
  }
  *{box-sizing:border-box;font-family:Inter,Arial,Helvetica,sans-serif}
  body{
    margin:0;
    min-height:100vh;
    background:linear-gradient(180deg,#071020,#0f1720);
    color:#e6eef8;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding:24px;
  }

  .container{
    width:100%;
    max-width:980px;
    background:linear-gradient(180deg,var(--panel),#071020);
    border-radius:12px;
    padding:16px;
    box-shadow:0 8px 30px rgba(2,6,23,0.6);
  }

  header{
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    margin-bottom:12px;
  }

  .left-controls, .right-controls{display:flex;gap:8px;align-items:center;}
  h1{margin:0;font-size:18px}

  .control {
    background:#0b2233;border:1px solid rgba(255,255,255,0.04);
    padding:8px;border-radius:8px;color:#dff3ff;
  }
  select,input[type=number]{background:transparent;border:none;color:inherit;font-size:14px}
  button{
    background:#0b2233;border:1px solid rgba(255,255,255,0.04);color:#dff3ff;padding:8px 10px;border-radius:8px;cursor:pointer;
  }
  button:hover{opacity:0.95}

  .status {
    display:flex;
    gap:8px;
    align-items:center;
  }

  .counter{
    background:#071a2a;padding:8px 12px;border-radius:8px;font-weight:700;font-size:16px;
    min-width:86px;text-align:center;
  }

  .grid-wrap{
    display:flex;
    justify-content:center;
    margin-top:14px;
    padding-bottom:16px;
  }

  .board {
    display:grid;
    gap:6px;
    background:transparent;
    padding:12px;
    border-radius:8px;
  }

  .cell {
    width:34px;height:34px;border-radius:6px;
    display:flex;align-items:center;justify-content:center;
    background:var(--tile);
    color:#0b1430;font-weight:800;cursor:pointer;user-select:none;
    box-shadow: 0 3px 0 rgba(0,0,0,0.15), inset 0 -2px 0 rgba(255,255,255,0.2);
    font-size:16px;
  }

  .cell.up{ background:var(--tile-up); cursor:default; box-shadow:none; }
  .cell.flag{ color:var(--flag); background:linear-gradient(180deg,#fde2e2,#ffdede); }
  .cell.mine{ background:var(--mine); color:#fff; }
  .cell.disabled{ pointer-events:none; opacity:0.95; }

  /* colors for numbers */
  .n1{ color:#0b63ff; }
  .n2{ color:#0b9b4a; }
  .n3{ color:#ef4444; }
  .n4{ color:#7c3aed; }
  .n5{ color:#b45309; }
  .n6{ color:#0b7285; }
  .n7{ color:#111827; }
  .n8{ color:#6b7280; }

  /* responsive */
  @media (max-width:520px){
    .cell{ width:28px;height:28px;font-size:14px }
  }

  .footer{
    margin-top:12px;color:#8fb5c8;font-size:13px;text-align:center;
  }

  /* mobile flag toggle */
  .flag-toggle.active{ background:#0d3b4b; }
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="left-controls">
        <h1>Buscaminas</h1>

        <div class="control">
          <label for="preset">Dificultad: </label>
          <select id="preset">
            <option value="easy">Fácil (9x9, 10 minas)</option>
            <option value="medium">Medio (16x16, 40 minas)</option>
            <option value="hard">Difícil (30x16, 99 minas)</option>
            <option value="custom">Personalizado</option>
          </select>
        </div>

        <div class="control" id="custom-controls" style="display:none">
          <label>W</label>
          <input id="width" type="number" min="5" max="40" value="16" style="width:56px;">
          <label>H</label>
          <input id="height"
