<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DEBUG Trailer PekeOS</title>
<style>
  html,body{height:100%;margin:0;background:#000;font-family:Arial,sans-serif;color:#fff;display:flex;align-items:center;justify-content:center}
  .pc{width:80%;height:80vh;border-radius:12px;background:#07070a;border:6px solid #111;position:relative;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,0.7)}
  #monitor{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
  .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,0.9));opacity:0;transition:opacity .6s ease;pointer-events:none}
  .overlay.show{opacity:1}
  .fade{opacity:0;transform:translateY(8px);transition:opacity .6s ease,transform .6s cubic-bezier(.2,.9,.3,1)}
  .in{opacity:1;transform:none}
  .box{width:60%;height:60%;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.4rem}
  .file{width:110px;height:150px;border-radius:8px;border:3px solid #0ff;background:#041018;margin:0 8px;opacity:0;transform:translateY(20px);transition:all .7s}
  .file.fly{opacity:1;transform:none}
  .cursor{width:20px;height:20px;background:#fff;border-radius:4px;position:absolute;transition:all .8s}
  .quad{position:absolute;display:flex;align-items:center;justify-content:center;color:#ddd;font-size:1.6rem}
  #q1{left:0;top:0;width:50%;height:50%}
  #q2{right:0;top:0;width:50%;height:50%}
  #q3{right:0;bottom:0;width:50%;height:50%}
  #q4{left:0;bottom:0;width:50%;height:50%}
  .quad.show{background:rgba(255,255,255,0.02)}
</style>
</head>
<body>
  <div class="pc" role="application" aria-label="trailer-debug">
    <div id="monitor"><div class="box" style="background:#081018">DEBUG: esperando secuencia</div></div>
    <div id="overlay" class="overlay"></div>
  </div>

<script>
console.clear();
console.log("DEBUG: secuencia iniciando");

const monitor = document.getElementById('monitor');
const overlay = document.getElementById('overlay');

function swapSceneSafe(html, delayReveal = 120) {
  // show overlay, swap content, then remove overlay
  overlay.classList.add('show');
  setTimeout(()=>{
    monitor.innerHTML = html;
    requestAnimationFrame(()=> setTimeout(()=> overlay.classList.remove('show'), delayReveal) );
  }, 300);
}

function safeAddClass(id, cls, t=0) {
  setTimeout(()=>{
    const el = document.getElementById(id);
    if(!el) { console.warn('DEBUG: elemento no encontrado', id); return; }
    el.classList.add(cls);
  }, t);
}

let cursor = 0;
function step(fn, duration){ setTimeout(fn, cursor); cursor += duration; }

// Simple timeline with console logs for debugging
step(()=>{ console.log('STEP 1: Logo'); swapSceneSafe('<div class="box" style="background:#001218">LOGO (simulado)</div>'); }, 3000);

step(()=>{ console.log('STEP 2: Files'); swapSceneSafe('<div style="display:flex;flex-direction:column;align-items:center"><div style="display:flex;align-items:flex-end"><div id="fA" class="file"></div><div id="fB" class="file"></div><div id="fC" class="file"></div></div><div style="margin-top:12px;text-align:center">La Pekeweb da un paso adelante...<br>ahora todo en 1 conjunto solo</div></div>'); safeAddClass('fA','fly',150); safeAddClass('fB','fly',320); safeAddClass('fC','fly',500); }, 5000);

step(()=>{ console.log('STEP 3: Settings'); swapSceneSafe('<div style="position:relative;width:100%;height:100%"><div style="width:70%;height:70%;background:linear-gradient(180deg,#071018,#0b1116);border-radius:10px;display:flex;align-items:center;justify-content:center"><div id="cursor" class="cursor" style="left:20%;top:60%"></div></div><div style="position:absolute;bottom:24px;width:100%;text-align:center">Aburrido de que no puedas personalizar la Pekeweb a tu gusto?</div></div>'); setTimeout(()=>{ const c=document.getElementById('cursor'); if(c){ c.style.left='40%'; c.style.top='36%'; } else console.warn('cursor no existe'); }, 400); }, 5000);

step(()=>{ console.log('STEP 4: Quadrants'); swapSceneSafe('<div style="position:relative;width:100%;height:100%"><div id="q1" class="quad">Ocio</div><div id="q2" class="quad">Noticias</div><div id="q3" class="quad">Admin</div><div id="q4" class="quad">Redes</div></div>'); setTimeout(()=>{ ['q1','q2','q3','q4'].forEach((id,i)=>{ setTimeout(()=>{ const e=document.getElementById(id); if(e) e.classList.add('show'); }, i*200); }); }, 320); }, 4000);

step(()=>{ console.log('STEP 5: Chat'); swapSceneSafe('<div style="display:flex;flex-direction:column;align-items:center"><div style="width:70%;height:50%;background:#071018;border-radius:8px;display:flex;flex-direction:column;justify-content:center;padding:12px"><div style="background:rgba(255,255,255,0.06);padding:8px;border-radius:8px;margin:8px 0">¡Bienvenido!</div><div style="background:rgba(255,255,255,0.04);padding:8px;border-radius:8px;margin:8px 0">Privados y públicos</div></div><div style="margin-top:12px">Tranquilo, ya tenemos chats privados y públicos</div></div>'); }, 4000);

step(()=>{ console.log('STEP 6: Study'); swapSceneSafe('<div style="display:flex;flex-direction:column;align-items:center"><div style="display:flex;gap:16px"><div class="file" style="border-color:#ffd400"></div><div class="file" style="border-color:#2eff6b"></div><div class="file" style="border-color:#ff2ec7"></div><div class="file" style="border-color:#00f6ff"></div></div><div style="margin-top:12px">Necesitas estudiar y no tienes apuntes? Revisa por si alguien te ha puesto algo</div></div>'); }, 4500);

step(()=>{ console.log('STEP 7: Power'); swapSceneSafe('<div class="box" style="background:#100814">⏻</div>'); }, 1500);

step(()=>{ console.log('FINAL: Logo + date'); overlay.classList.add('show'); setTimeout(()=>{ monitor.innerHTML = '<div style=\"display:flex;flex-direction:column;align-items:center\"><div style=\"font-size:1.4rem;margin-bottom:8px\">PekeOS (FINAL)</div><div style=\"font-size:1.1rem\">04/12/25</div></div>'; overlay.classList.remove('show'); }, 600); }, 700);

</script>
</body>
</html>
