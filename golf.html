<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zona de Juegos</title>
<style>
body { margin:0; font-family:sans-serif; background:#111; color:#fff; overflow:hidden; }
#menu, #gameArea, #startScreen {
  position:absolute; top:0; left:0; width:100%; height:100%;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
}
#menu { background:#111; }
.card {
  background:#222; padding:20px; margin:10px; border-radius:10px;
  width:220px; text-align:center; cursor:pointer; transition:0.2s;
}
.card:hover { background:#333; transform:scale(1.05); }
#gameArea { display:none; flex-direction:column; align-items:center; justify-content:flex-start; padding-top:10px; }
#startScreen {
  display:none; background:rgba(0,0,0,0.9); flex-direction:column;
}
button {
  padding:10px 25px; border:none; border-radius:8px;
  background:#0af; color:#fff; font-size:18px; cursor:pointer; transition:0.2s;
}
button:hover { background:#09f; transform:scale(1.05); }
canvas { border:3px solid #fff; margin-top:10px; }
</style>
</head>
<body>

<!-- üïπÔ∏è Men√∫ principal -->
<div id="menu">
  <h1>üéÆ Zona de Juegos</h1>
  <div class="card" onclick="selectGame('pacman')">Pac-Man</div>
  <div class="card" onclick="selectGame('buscaminas')">Buscaminas</div>
  <div class="card" onclick="selectGame('solitario')">Solitario</div>
  <div class="card" onclick="selectGame('flota')">Hundir la flota</div>
</div>

<!-- ‚ñ∂Ô∏è Pantalla de inicio -->
<div id="startScreen">
  <h1 id="gameTitle">PAC-MAN</h1>
  <button onclick="startGame()">PLAY</button>
  <button onclick="backToMenu()" style="margin-top:10px; background:#555;">Volver</button>
</div>

<!-- üéÆ √Årea de juego -->
<div id="gameArea">
  <div id="gameContainer"></div>
  <button onclick="backToMenu()">Volver al men√∫</button>
</div>

<script>
let selectedGame = null;

// --- Funci√≥n para elegir juego ---
function selectGame(game){
  selectedGame = game;
  document.getElementById('menu').style.display='none';
  document.getElementById('startScreen').style.display='flex';
  document.getElementById('gameTitle').textContent = game.toUpperCase();
}

// --- Iniciar juego ---
function startGame(){
  document.getElementById('startScreen').style.display='none';
  document.getElementById('gameArea').style.display='flex';
  loadGame(selectedGame);
}

// --- Volver al men√∫ ---
function backToMenu(){
  document.getElementById('menu').style.display='flex';
  document.getElementById('startScreen').style.display='none';
  document.getElementById('gameArea').style.display='none';
  document.getElementById('gameContainer').innerHTML='';
  selectedGame = null;
}

// --- Cargar juego ---
function loadGame(game){
  const container = document.getElementById('gameContainer');
  switch(game){
    case 'pacman': initPacman(container); break;
    case 'buscaminas': container.innerHTML='<p>Buscaminas pr√≥ximamente...</p>'; break;
    case 'solitario': container.innerHTML='<p>Solitario pr√≥ximamente...</p>'; break;
    case 'flota': container.innerHTML='<p>Hundir la flota pr√≥ximamente...</p>'; break;
  }
}

// =============== PAC-MAN SIMPLE ===============
function initPacman(container){
  container.innerHTML = '<canvas id="pacmanCanvas" width="420" height="420"></canvas>';
  const canvas = document.getElementById('pacmanCanvas');
  const ctx = canvas.getContext('2d');
  const tileSize = 20;

  const maze = [
    "####################",
    "#........##........#",
    "#.##.###.##.###.##.#",
    "#..................#",
    "#.##.#.######.#.##.#",
    "#....#....##....#..#",
    "####.###.##.###.####",
    "#........P.........#",
    "####################"
  ];

  let pacman = {x:0, y:0, dx:0, dy:0};
  // Buscar posici√≥n inicial (P)
  for(let y=0;y<maze.length;y++){
    for(let x=0;x<maze[y].length;x++){
      if(maze[y][x]==='P'){ pacman.x=x; pacman.y=y; }
    }
  }

  document.addEventListener('keydown', e=>{
    switch(e.key){
      case 'ArrowUp': pacman.dx=0; pacman.dy=-1; break;
      case 'ArrowDown': pacman.dx=0; pacman.dy=1; break;
      case 'ArrowLeft': pacman.dx=-1; pacman.dy=0; break;
      case 'ArrowRight': pacman.dx=1; pacman.dy=0; break;
    }
  });

  function draw(){
    ctx.clearRect(0,0,420,420);
    for(let y=0;y<maze.length;y++){
      for(let x=0;x<maze[y].length;x++){
        if(maze[y][x]==="#"){
          ctx.fillStyle="#00f";
          ctx.fillRect(x*tileSize,y*tileSize,tileSize,tileSize);
        }else if(maze[y][x]==="."){
          ctx.fillStyle="#ff0";
          ctx.beginPath();
          ctx.arc(x*tileSize+10,y*tileSize+10,3,0,Math.PI*2);
          ctx.fill();
        }
      }
    }

    // Mover Pac-Man
    const nx = pacman.x + pacman.dx;
    const ny = pacman.y + pacman.dy;
    if(maze[ny] && maze[ny][nx] && maze[ny][nx]!=="#"){
      pacman.x = nx;
      pacman.y = ny;
      if(maze[ny][nx]===".") maze[ny] = maze[ny].substring(0,nx)+" "+maze[ny].substring(nx+1);
    }

    // Dibujar Pac-Man
    ctx.fillStyle="yellow";
    ctx.beginPath();
    ctx.arc(pacman.x*tileSize+10,pacman.y*tileSize+10,8,0,Math.PI*2);
    ctx.fill();
  }

  function loop(){
    draw();
    requestAnimationFrame(loop);
  }
  loop();
}
</script>
</body>
</html>
