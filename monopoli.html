<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Monopoly Canvas</title>
<style>
  body { margin:0; background:#eee; display:flex; justify-content:center; align-items:center; height:100vh; }
  canvas { background:#fff; border:2px solid #000; }
  #controls { position:absolute; top:10px; left:50%; transform:translateX(-50%); }
  button { font-size:16px; margin:5px; padding:10px; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="800"></canvas>
<div id="controls">
  <button id="rollDiceBtn">Tirar dado</button>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

const boardSize = 800;
const numCellsPerSide = 10;
const cellSize = boardSize / numCellsPerSide;

// Definir casillas básicas (simplificado)
const board = [];
for(let i=0; i<40; i++){
  board.push({name:"Casilla "+i, owner:null, price:100});
}

// Jugadores
const players = [
  {name:"Jugador", color:"blue", pos:0, money:1500},
  {name:"AI", color:"red", pos:0, money:1500}
];
let currentPlayer = 0;

// Dibujar tablero
function drawBoard(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  
  // Bordes
  for(let i=0; i<numCellsPerSide; i++){
    // Top
    ctx.strokeRect(i*cellSize, 0, cellSize, cellSize);
    // Bottom
    ctx.strokeRect(i*cellSize, boardSize-cellSize, cellSize, cellSize);
    // Left
    ctx.strokeRect(0, i*cellSize, cellSize, cellSize);
    // Right
    ctx.strokeRect(boardSize-cellSize, i*cellSize, cellSize, cellSize);
  }
  
  // Dibujar jugadores
  players.forEach((p, idx) => {
    let x=0, y=0;
    const pos = p.pos;
    if(pos<10){ x = boardSize - cellSize*(pos+1); y=boardSize-cellSize; } // Bottom
    else if(pos<20){ x=0; y=boardSize - cellSize*(pos-9); } // Left
    else if(pos<30){ x=cellSize*(pos-20); y=0; } // Top
    else { x=boardSize-cellSize; y=cellSize*(pos-30); } // Right
    
    ctx.fillStyle = p.color;
    ctx.beginPath();
    ctx.arc(x+cellSize/2, y+cellSize/2, 15, 0, Math.PI*2);
    ctx.fill();
  });
}

// Tirar dado y mover jugador
document.getElementById('rollDiceBtn').addEventListener('click', () => {
  const dice = Math.floor(Math.random()*6)+1;
  console.log(players[currentPlayer].name+" tiró: "+dice);
  movePlayer(players[currentPlayer], dice);
});

function movePlayer(player, steps){
  player.pos += steps;
  if(player.pos >= 40) { player.pos -= 40; player.money += 200; console.log(player.name+" pasa por salida!"); }
  drawBoard();
  nextTurn();
}

function nextTurn(){
  currentPlayer = (currentPlayer+1) % players.length;
}

drawBoard();
</script>
</body>
</html>
