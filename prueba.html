<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Casino 3D - Sala Principal</title>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: black;
  }
</style>
</head>
<body>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");

// Crear escena
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x050505);

// Cámara
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.set(0, 2, 8);

// Renderizador
const renderer = new THREE.WebGLRenderer({ canvas });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);

// 💡 Luces
scene.add(new THREE.AmbientLight(0xffffff, 0.6));
const dirLight = new THREE.DirectionalLight(0xffffff, 1);
dirLight.position.set(5, 10, 5);
scene.add(dirLight);

const neonLight = new THREE.PointLight(0x00ffff, 3, 40);
neonLight.position.set(0, 5, 0);
scene.add(neonLight);

// 🎰 Suelo y paredes
const floorMat = new THREE.MeshStandardMaterial({ color: 0x222222 });
const floor = new THREE.Mesh(new THREE.PlaneGeometry(50, 50), floorMat);
floor.rotation.x = -Math.PI / 2;
scene.add(floor);

const wallMat = new THREE.MeshStandardMaterial({ color: 0x330033 });
const backWall = new THREE.Mesh(new THREE.BoxGeometry(50, 10, 1), wallMat);
backWall.position.set(0, 5, -25);
scene.add(backWall);

const leftWall = new THREE.Mesh(new THREE.BoxGeometry(1, 10, 50), wallMat);
leftWall.position.set(-25, 5, 0);
scene.add(leftWall);

const rightWall = new THREE.Mesh(new THREE.BoxGeometry(1, 10, 50), wallMat);
rightWall.position.set(25, 5, 0);
scene.add(rightWall);

// 💎 Decoración: máquinas tragaperras
const slotMat = new THREE.MeshStandardMaterial({ color: 0xff00ff, emissive: 0x330033 });
for (let i = 0; i < 6; i++) {
  const slot = new THREE.Mesh(new THREE.BoxGeometry(1.5, 2.5, 1.5), slotMat);
  slot.position.set(i * 3 - 7.5, 1.25, -10);
  scene.add(slot);
}

// 🃏 Mesa de blackjack
const tableMat = new THREE.MeshStandardMaterial({ color: 0x004400 });
const table = new THREE.Mesh(new THREE.CylinderGeometry(5, 5, 0.5, 32), tableMat);
table.position.set(0, 0.25, 0);
scene.add(table);

// 🎡 Ruleta
const ruletaMat = new THREE.MeshStandardMaterial({ color: 0x990000 });
const ruleta = new THREE.Mesh(new THREE.CylinderGeometry(2, 2, 0.3, 32), ruletaMat);
ruleta.position.set(-10, 0.15, 5);
scene.add(ruleta);

// 🪩 Lámpara de techo
const lamp = new THREE.PointLight(0xff00ff, 1.5, 30);
lamp.position.set(0, 8, 0);
scene.add(lamp);

const sphere = new THREE.Mesh(new THREE.SphereGeometry(0.3, 16, 16), new THREE.MeshStandardMaterial({ emissive: 0xff00ff }));
sphere.position.copy(lamp.position);
scene.add(sphere);

// 🔁 Bucle de animación
function animate() {
  requestAnimationFrame(animate);
  ruleta.rotation.y += 0.01;
  renderer.render(scene, camera);
}
animate();

// 📐 Ajustar ventana
window.addEventListener("resize", () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
