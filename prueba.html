<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Casino3D — Paso 1 (Escena base)</title>
  <style>
    html,body{height:100%;margin:0;overflow:hidden;background:#111}
    #info{position:absolute;left:12px;top:12px;color:#fff;z-index:5;background:rgba(0,0,0,0.4);padding:8px;border-radius:6px}
    canvas{display:block}
  </style>
</head>
<body>
  <div id="info">Paso 1 — Escena base: deberías ver suelo, un cubo y poder orbitar con el ratón (scroll para zoom).</div>

  <!-- Three.js + OrbitControls -->
  <script src="https://unpkg.com/three@0.163.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.163.0/examples/js/controls/OrbitControls.js"></script>

  <script>
  // --- Escena base para comprobar renderizado ---
  const scene = new THREE.Scene();
  scene.background = new THREE.Color(0x222233);

  const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 2000);
  camera.position.set(6, 4, 8);

  const renderer = new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  // Controles de cámara (para pruebas)
  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.target.set(0,1,0);
  controls.update();

  // Luces
  const hemi = new THREE.HemisphereLight(0xffffff, 0x444444, 1.0);
  hemi.position.set(0, 50, 0);
  scene.add(hemi);

  const dir = new THREE.DirectionalLight(0xffffff, 0.9);
  dir.position.set(-10, 20, 10);
  dir.castShadow = true;
  scene.add(dir);

  // Suelo
  const floorGeo = new THREE.PlaneGeometry(40, 40);
  const floorMat = new THREE.MeshStandardMaterial({color:0x4a4a55, roughness:0.9});
  const floor = new THREE.Mesh(floorGeo, floorMat);
  floor.rotation.x = -Math.PI/2;
  floor.receiveShadow = true;
  scene.add(floor);

  // Cubo de referencia (debe verse claramente)
  const cubeGeo = new THREE.BoxGeometry(2,2,2);
  const cubeMat = new THREE.MeshStandardMaterial({color:0x00aaff});
  const cube = new THREE.Mesh(cubeGeo, cubeMat);
  cube.position.set(0,1,0);
  cube.castShadow = true;
  scene.add(cube);

  // Una esfera para referencia Z
  const sphere = new THREE.Mesh(new THREE.SphereGeometry(0.7,32,16), new THREE.MeshStandardMaterial({color:0xffaa00}));
  sphere.position.set(5,0.7,-2);
  scene.add(sphere);

  // Rejilla opcional para orientarte
  const grid = new THREE.GridHelper(40, 40, 0x333333, 0x222222);
  scene.add(grid);

  // Resize handler
  window.addEventListener('resize', ()=> {
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });

  // Render loop
  (function animate(){
    requestAnimationFrame(animate);
    // pequeña rotación para ver movimiento
    cube.rotation.y += 0.01;
    renderer.render(scene, camera);
  })();
  </script>
</body>
</html>
