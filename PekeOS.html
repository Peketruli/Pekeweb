<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PekeOS Ultra Impactante</title>
<style>
/* Reset */
* { margin:0; padding:0; box-sizing:border-box; font-family:sans-serif; }
body, html { width:100%; height:100%; overflow:hidden; background:black; }

/* ===== Pantalla de arranque ===== */
#bootScreen {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:#000; display:flex; justify-content:center; align-items:center;
  flex-direction:column; z-index:9999; overflow:hidden;
}
#bootScreen img {
  width:35%; max-width:400px; opacity:0; transform:scale(0.5);
  animation:logoEntrance 2s ease-in-out forwards;
  filter: drop-shadow(0 0 20px #00ffd0) drop-shadow(0 0 40px #00ffd0);
}
#bootText { position:absolute; bottom:100px; color:white; font-size:2rem; opacity:0; animation:textAppear 2s forwards 3s; }
#progressBarContainer {
  position:absolute; bottom:50px; width:60%; max-width:500px; height:20px;
  background:#111; border:2px solid #00ffd0; border-radius:10px;
  overflow:hidden; opacity:0; animation:progressAppear 0.5s forwards 4s;
}
#progressBar {
  height:100%; width:0; background:#006666; box-shadow:0 0 10px #00ffd0;
  animation:progressFill 3s forwards 4.2s;
}

/* Animaciones */
@keyframes logoEntrance { 0% {opacity:0; transform:scale(0.5);} 40% {opacity:1; transform:scale(1.3);} 70% { transform:scale(0.95);} 100% { transform:scale(1);} }
@keyframes textAppear { to { opacity:1; } }
@keyframes progressAppear { to { opacity:1; } }
@keyframes progressFill { to { width:100%; } }

/* ===== Escritorio ===== */
#desktop { display:none; width:100%; height:100%; background:#111; position:relative; padding:16px; }
.icons { position:absolute; width:100%; height:100%; }

.icon {
  width:80px; text-align:center; cursor:pointer; position:absolute;
  transition:0.2s;
}
.icon:hover { transform:scale(1.1); }
.icon .thumb {
  font-size:42px; margin-bottom:6px;
}
.icon span { display:block; margin-top:4px; color:#00ffd0; font-size:12px; }

/* ===== Barra de tareas ===== */
.taskbar {
  position:fixed; bottom:0; left:0; right:0; height:42px;
  background:#222; border-top:3px solid #00ffd0; display:flex;
  align-items:center; padding:4px 10px; color:#fff; display:none; z-index:20;
}

.start-btn img {
  width:36px; height:36px; cursor:pointer;
  transition:0.2s;
}
.start-btn img:hover { transform:scale(1.15); }

.task-apps {
  display:flex; gap:6px; margin-left:20px; flex:1;
}

.task-btn {
  background:#333; padding:4px 10px; border:1px solid #00ffd0;
  color:#00ffd0; cursor:pointer; border-radius:6px;
}
.task-btn:hover { background:#444; }

/* ===== Men√∫ Inicio ===== */
#startMenu {
  position:fixed; bottom:45px; left:10px;
  width:220px; background:#222; border:2px solid #00ffd0;
  display:none; flex-direction:column; z-index:500;
  border-radius:8px; overflow:hidden;
}

.start-header {
  background:#00ffd0; color:black; padding:10px;
  font-weight:bold; text-align:center;
}

.menu-item {
  padding:12px; color:#00ffd0; display:flex;
  align-items:center; gap:10px; cursor:pointer;
}
.menu-item:hover { background:#333; }

/* ===== Ventanas ===== */
.win {
  position:absolute; width:520px; height:360px; background:#111;
  border:2px solid #00ffd0; box-shadow:6px 6px 0 rgba(0,0,0,.8);
  display:flex; flex-direction:column; color:#fff; z-index:3;
  border-radius:6px;
}

.titlebar {
  height:28px; background:linear-gradient(#222,#111);
  display:flex; align-items:center; padding:0 6px; gap:8px;
  user-select:none; border-bottom:1px solid #555;
}
.titlebar .title { flex:1; font-size:13px; }
.controls { display:flex; gap:6px; }

.btn {
  width:20px; height:20px; background:#222;
  color:#fff; border:1px solid #555; display:flex;
  align-items:center; justify-content:center; cursor:pointer;
}
.btn:hover { background:#333; }

.content { flex:1; background:#000; overflow:hidden; }
.content iframe { width:100%; height:100%; border:0; }
</style>
</head>
<body>

<!-- Pantalla de arranque -->
<div id="bootScreen">
  <img src="PekeOS.png" alt="PekeOS Logo">
  <div id="bootText">Iniciando PekeOS...</div>
  <div id="progressBarContainer"><div id="progressBar"></div></div>
</div>

<!-- Escritorio -->
<div id="desktop">
  <div class="icons">

    <!-- Iconos bonitos -->
    <div class="icon" data-app="golf.html" style="top:20px; left:20px;">
      <div class="thumb">üéÆ</div><span>Zona Arcade</span>
    </div>

    <div class="icon" data-app="periodico.html" style="top:20px; left:110px;">
      <div class="thumb">üì∞</div><span>Noticias</span>
    </div>

    <div class="icon" data-app="chat.html" style="top:20px; left:200px;">
      <div class="thumb">üí¨</div><span>Chat</span>
    </div>

    <div class="icon" data-app="ajustes.html" style="top:20px; left:290px;">
      <div class="thumb">‚öôÔ∏è</div><span>Ajustes</span>
    </div>

  </div>
</div>

<!-- Barra de tareas -->
<div class="taskbar">
  <div class="start-btn"><img src="PekeOSmini.png" alt="PekeOS"></div>
  <div class="task-apps" id="taskApps"></div>
  <div id="clock"></div>
</div>

<!-- Men√∫ Inicio -->
<div id="startMenu">
  <div class="start-header">PekeOS</div>

  <div class="menu-item" data-action="files">üìÅ Mis Archivos</div>
  <div class="menu-item" data-action="internet">üåê Internet</div>
  <div class="menu-item" data-action="settings">‚öôÔ∏è Ajustes</div>

  <div class="menu-item" data-action="shutdown" style="border-top:1px solid #444;">
    ‚õî Apagar
  </div>
</div>

<!-- Plantilla ventana -->
<template id="winTpl">
  <div class="win">
    <div class="titlebar">
      <div class="title">Ventana</div>
      <div class="controls">
        <div class="btn" data-action="min">_</div>
        <div class="btn" data-action="max">‚¨ú</div>
        <div class="btn" data-action="close">X</div>
      </div>
    </div>
    <div class="content"></div>
  </div>
</template>

<script>
/* ========== ARRANQUE ========== */
window.addEventListener('load', ()=>{
  setTimeout(()=>{
    document.getElementById('bootScreen').style.transition='opacity 1s';
    document.getElementById('bootScreen').style.opacity=0;
    setTimeout(()=>{
      document.getElementById('bootScreen').style.display='none';
      document.getElementById('desktop').style.display='block';
      document.querySelector('.taskbar').style.display='flex';
    },800);
  },6500);
});

/* ========== RELOJ ========== */
function updateClock(){
  const now=new Date();
  const h = now.getHours().toString().padStart(2,"0");
  const m = now.getMinutes().toString().padStart(2,"0");
  document.getElementById("clock").textContent = `${h}:${m}`;
}
setInterval(updateClock,1000);
updateClock();

/* ========== CREAR VENTANAS ========== */
const tpl = document.getElementById('winTpl');

function createWindow(title='Ventana', src=null){
  const win = tpl.content.firstElementChild.cloneNode(true);
  win.querySelector('.title').textContent = title;

  // Crear bot√≥n en la barra de tareas
  const taskBtn = document.createElement("div");
  taskBtn.className = "task-btn";
  taskBtn.textContent = title;
  document.getElementById("taskApps").appendChild(taskBtn);

  taskBtn.addEventListener("click", () => {
    win.style.display = "block";
    win.style.zIndex = 999;
  });

  if(src){
    const iframe=document.createElement('iframe');
    iframe.src=src;
    win.querySelector('.content').appendChild(iframe);
  }

  win.style.left = "200px";
  win.style.top = "120px";
  document.body.appendChild(win);

  makeDraggable(win);
  attachControls(win, taskBtn);
}

/* ========== DRAG ========== */
function makeDraggable(el){
  const bar = el.querySelector('.titlebar');
  let ox, oy, dx, dy, drag=false;

  bar.addEventListener('mousedown', e=>{
    drag=true; ox=e.clientX; oy=e.clientY;
    dx=parseInt(el.style.left)||0; dy=parseInt(el.style.top)||0;

    document.addEventListener('mousemove', move);
    document.addEventListener('mouseup', up);
  });

  function move(e){
    if(!drag) return;
    el.style.left = dx+(e.clientX-ox)+'px';
    el.style.top  = dy+(e.clientY-oy)+'px';
  }

  function up(){
    drag=false;
    document.removeEventListener('mousemove',move);
    document.removeEventListener('mouseup',up);
  }
}

/* ========== CONTROLES ========== */
function attachControls(win, taskBtn){
  win.querySelectorAll('.btn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const a = btn.dataset.action;

      if(a==='close'){ win.remove(); taskBtn.remove(); }

      if(a==='min'){ win.style.display='none'; }

      if(a==='max'){
        if(win.dataset.maxed==='1'){
          win.dataset.maxed='0';
          win.style.width='520px'; 
          win.style.height='360px';
        } else {
          win.dataset.maxed='1';
          win.style.width=(window.innerWidth-10)+'px';
          win.style.height=(window.innerHeight-50)+'px';
        }
      }
    });
  });
}

/* ========== ICONOS: DOBLE CLICK ========== */
document.querySelectorAll('.icon').forEach(icon=>{
  icon.addEventListener('dblclick', ()=>{
    createWindow(icon.querySelector('span').textContent, icon.dataset.app);
  });
});

/* ========== MEN√ö INICIO ========== */
const startBtn = document.querySelector('.start-btn img');
const startMenu = document.getElementById('startMenu');

startBtn.addEventListener('click', () => {
  startMenu.style.display = startMenu.style.display === 'flex' ? 'none' : 'flex';
});

// ACCIONES DEL MEN√ö
startMenu.querySelectorAll('.menu-item').forEach(item=>{
  item.addEventListener('click', ()=>{
    const a = item.dataset.action;

    if(a==='files') createWindow("Mis Archivos","files.html");
    if(a==='internet') createWindow("Internet","internet.html");
    if(a==='settings') createWindow("Ajustes","ajustes.html");

    if(a==='shutdown'){
      alert("Apagando PekeOS...");
      location.reload();
    }

    startMenu.style.display='none';
  });
});
</script>
</body>
</html>
