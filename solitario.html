<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Solitario</title>
<style>
    body {
        margin: 0;
        background-color: #0b3d0b;
        color: white;
        font-family: Arial, sans-serif;
        overflow: hidden;
    }

    #top-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 20px;
        background: #062906;
        border-bottom: 2px solid #1a501a;
    }

    #top-bar button {
        background-color: #333;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 8px;
        cursor: pointer;
    }

    #top-bar button:hover {
        background-color: #555;
    }

    #game {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: calc(100vh - 60px);
    }

    #tableau {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 20px;
    }

    .column {
        width: 100px;
        height: 300px;
        background-color: rgba(255,255,255,0.1);
        border-radius: 8px;
        padding: 5px;
        position: relative;
    }

    .card {
        width: 90px;
        height: 130px;
        background-color: white;
        border-radius: 8px;
        color: black;
        text-align: center;
        line-height: 130px;
        font-weight: bold;
        font-size: 24px;
        position: absolute;
        left: 5px;
        cursor: pointer;
        user-select: none;
        transition: transform 0.2s;
    }

    .card.red {
        color: red;
    }

    .card:hover {
        transform: scale(1.05);
    }

    #deck {
        margin-top: 20px;
    }

    #deck button {
        background-color: #444;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
    }

    #deck button:hover {
        background-color: #666;
    }
</style>
</head>
<body>
    <div id="top-bar">
        <button onclick="window.location.href='menu.html'">← Volver</button>
        <h2>Solitario</h2>
        <button onclick="iniciarJuego()">Reiniciar</button>
    </div>

    <div id="game">
        <div id="deck">
            <button onclick="repartirCartas()">Repartir Cartas</button>
        </div>
        <div id="tableau"></div>
    </div>

<script>
const palos = ['♠', '♥', '♦', '♣'];
let mazo = [];

function crearMazo() {
    mazo = [];
    for (let palo of palos) {
        for (let valor = 1; valor <= 13; valor++) {
            let nombre = valor;
            if (valor === 1) nombre = 'A';
            else if (valor === 11) nombre = 'J';
            else if (valor === 12) nombre = 'Q';
            else if (valor === 13) nombre = 'K';
            mazo.push({ valor, palo, color: (palo === '♥' || palo === '♦') ? 'red' : 'black' });
        }
    }
}

function barajar() {
    for (let i = mazo.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [mazo[i], mazo[j]] = [mazo[j], mazo[i]];
    }
}

function repartirCartas() {
    const tableau = document.getElementById('tableau');
    tableau.innerHTML = '';
    barajar();

    for (let i = 0; i < 7; i++) {
        const columna = document.createElement('div');
        columna.className = 'column';
        for (let j = 0; j <= i; j++) {
            const carta = mazo.pop();
            const cartaDiv = document.createElement('div');
            cartaDiv.className = 'card ' + (carta.color === 'red' ? 'red' : '');
            cartaDiv.textContent = carta.valor <= 10 ? carta.valor : 
                (carta.valor === 11 ? 'J' : carta.valor === 12 ? 'Q' : 'K');
            cartaDiv.textContent += carta.palo;
            cartaDiv.style.top = (j * 25) + 'px';
            columna.appendChild(cartaDiv);
        }
        tableau.appendChild(columna);
    }
}

function iniciarJuego() {
    crearMazo();
    repartirCartas();
}

window.onload = iniciarJuego;
</script>
</body>
</html>
