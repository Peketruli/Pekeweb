<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pekeweb ‚Ä¢ Evento de Navidad</title>

<style>
  body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    background:#0a0f1a url('https://i.imgur.com/QlvS4Ah.png');
    background-size:cover;
    color:white;
  }

  header{
    background:rgba(0,0,0,0.6);
    padding:20px;
    text-align:center;
    border-bottom:2px solid #fff3;
  }

  h1{
    margin:0;
    font-size:2rem;
    letter-spacing:1px;
  }

  .container{
    max-width:1200px;
    margin:30px auto;
    padding:20px;
    background:rgba(0,0,0,0.4);
    border-radius:12px;
    backdrop-filter:blur(6px);
  }

  /* --- CALENDARIO DE ADVIENTO --- */
  #calendario{
    display:grid;
    grid-template-columns:repeat(6, 1fr);
    gap:10px;
    margin-bottom:40px;
  }

  .dia{
    background:rgba(255,255,255,0.15);
    padding:25px 0;
    text-align:center;
    border-radius:10px;
    font-size:1.2rem;
    cursor:pointer;
    user-select:none;
    transition:0.2s;
    border:2px solid transparent;
  }

  .dia:hover{
    background:rgba(255,255,255,0.25);
    transform:scale(1.05);
  }

  .dia.abierto{
    background:rgba(41, 169, 255, 0.5);
    border-color:white;
    transform:scale(1.03);
  }

  /* --- COLECCIONABLES --- */
  #coleccionables{
    display:flex;
    gap:15px;
    flex-wrap:wrap;
  }

  .item{
    width:90px;
    height:90px;
    background:rgba(255,255,255,0.15);
    border-radius:10px;
    display:flex;
    align-items:center;
    justify-content:center;
    border:2px solid #fff3;
    font-size:0.9rem;
    text-align:center;
  }

  .item.desbloqueado{
    background:rgba(0,255,170,0.3);
    border-color:#0f0;
  }

  .titulo{
    margin:10px 0;
    font-size:1.6rem;
    border-left:6px solid #7dd3fc;
    padding-left:10px;
  }

</style>
</head>

<body>

<header>
  <h1>üéÑ Evento de Navidad ‚Äî Pekeweb üéÑ</h1>
</header>

<div class="container">

  <div class="titulo">üéÅ Calendario de Adviento</div>
  <div id="calendario"></div>

  <div class="titulo">‚≠ê Coleccionables</div>
  <div id="coleccionables"></div>

</div>

<script>
/* ============================================================
   ===============  CALENDARIO DE ADVIENTO  ===================
   ============================================================ */

const totalDias = 24;
const calendario = document.getElementById("calendario");

// Para pruebas: almacenamiento en localStorage
let diasAbiertos = JSON.parse(localStorage.getItem("diasAbiertos")) || [];

// Generar casillas del calendario
for(let d=1; d<=totalDias; d++){
  const dia = document.createElement("div");
  dia.classList.add("dia");
  dia.textContent = d;

  if(diasAbiertos.includes(d)) dia.classList.add("abierto");

  dia.onclick = ()=> abrirDia(d, dia);

  calendario.appendChild(dia);
}

function abrirDia(dia, elemento){
  // Cuando integremos backend, aqu√≠ cambiar√° la l√≥gica
  if(!diasAbiertos.includes(dia)){
    diasAbiertos.push(dia);
    elemento.classList.add("abierto");
    localStorage.setItem("diasAbiertos", JSON.stringify(diasAbiertos));

    alert("üéÅ ¬°Has abierto el d√≠a "+dia+"!");
    // M√°s adelante: aqu√≠ daremos coleccionables
  }
}


/* ============================================================
   =================  COLECCIONABLES BASE  =====================
   ============================================================ */

// Coleccionables iniciales (placeholder)
let coleccionables = [
  { id:1, nombre:"Gorro de Santa", unlocked:false },
  { id:2, nombre:"√Årbol Navide√±o", unlocked:false },
  { id:3, nombre:"Reno", unlocked:false },
  { id:4, nombre:"Bola de Nieve", unlocked:false },
  { id:5, nombre:"Dulce Navide√±o", unlocked:false }
];

let inventario = JSON.parse(localStorage.getItem("coleccionables")) || coleccionables;

const contenedorColeccionables = document.getElementById("coleccionables");

function renderColeccionables(){
  contenedorColeccionables.innerHTML = "";

  inventario.forEach(item=>{
    const div = document.createElement("div");
    div.classList.add("item");
    if(item.unlocked) div.classList.add("desbloqueado");
    div.textContent = item.nombre;

    contenedorColeccionables.appendChild(div);
  });
}

renderColeccionables();

function desbloquearColeccionable(id){
  const item = inventario.find(x => x.id === id);
  if(item && !item.unlocked){
    item.unlocked = true;
    localStorage.setItem("coleccionables", JSON.stringify(inventario));
    renderColeccionables();
  }
}

</script>

</body>
</html>
