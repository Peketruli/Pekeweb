<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi-craft (Paso 2: Texturas)</title>
    
    <style>
        body {
            margin: 0;
            overflow: hidden; 
        }
    </style>
</head>
<body>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';

        // --- Configuración básica (Escena, Cámara, Renderizador) ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // --- ¡NUEVO! PASO 1: Cargar las texturas ---
        
        // Creamos un "cargador" de texturas
        const loader = new THREE.TextureLoader();
        
        // Cargamos las 3 imágenes que necesitamos
        const texturaLado = loader.load('https://i.imgur.com/yKx3J.png'); // 1. Textura del lado (grass_side)
        const texturaArriba = loader.load('https://i.imgur.com/4lAsj.png'); // 2. Textura de arriba (grass_top)
        const texturaAbajo = loader.load('https://i.imgur.com/agSGO.png'); // 3. Textura de abajo (dirt)

        // --- ¡NUEVO! PASO 2: Arreglar el pixel art ---
        // Esto evita que las texturas se vean borrosas
        texturaLado.magFilter = THREE.NearestFilter;
        texturaArriba.magFilter = THREE.NearestFilter;
        texturaAbajo.magFilter = THREE.NearestFilter;


        // --- ¡NUEVO! PASO 3: Crear un array de materiales para las 6 caras ---
        
        // Un cubo tiene 6 caras. El orden es:
        // 1. Derecha (+X)
        // 2. Izquierda (-X)
        // 3. Arriba (+Y)
        // 4. Abajo (-Y)
        // 5. Frente (+Z)
        // 6. Atrás (-Z)
        
        const materials = [
            new THREE.MeshBasicMaterial({ map: texturaLado }),   // Cara derecha
            new THREE.MeshBasicMaterial({ map: texturaLado }),   // Cara izquierda
            new THREE.MeshBasicMaterial({ map: texturaArriba }), // Cara arriba (¡césped!)
            new THREE.MeshBasicMaterial({ map: texturaAbajo }),  // Cara abajo (¡tierra!)
            new THREE.MeshBasicMaterial({ map: texturaLado }),   // Cara frente
            new THREE.MeshBasicMaterial({ map: texturaLado })    // Cara atrás
        ];

        // --- ¡MODIFICADO! Crear el Cubo ---
        
        // La geometría sigue siendo la misma...
        const geometry = new THREE.BoxGeometry(1, 1, 1);
        
        // ...pero en lugar de pasar UN material verde,
        // pasamos la LISTA (array) de los 6 materiales.
        const cube = new THREE.Mesh(geometry, materials);
        
        scene.add(cube);

        // Posicionamos la cámara
        camera.position.z = 5;

        // --- Bucle de Animación (Sin cambios) ---
        function animate() {
            requestAnimationFrame(animate);

            cube.rotation.x += 0.01;
            cube.rotation.y += 0.01;

            renderer.render(scene, camera);
        }

        animate();
    </script>
</body>
</html>
